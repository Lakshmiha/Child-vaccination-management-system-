{% extends "accounts/base.html" %}
{% block title %}View Appointments{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">Your Appointments</h2>

  {% if appointments %}
    <div class="table-responsive shadow-sm rounded-3">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-success text-center">
          <tr>
            <th>Child</th>
            <th>Hospital</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for appt in appointments %}
          <tr>
            <td>{{ appt.child_name }}</td>
            <td>{{ appt.hospital.name }}</td>
            <td>{{ appt.appointment_date }}</td>
            <td>{{ appt.appointment_time }}</td>
            <td>
              {% if appt.status == "Approved" %}
                <span class="badge bg-success">{{ appt.status }}</span>
              {% elif appt.status == "Pending" %}
                <span class="badge bg-warning text-dark">{{ appt.status }}</span>
              {% elif appt.status == "Cancelled" %}
                <span class="badge bg-danger">{{ appt.status }}</span>
              {% else %}
                <span class="badge bg-secondary">{{ appt.status }}</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-center text-muted">No appointments booked yet.</p>
  {% endif %}
</div>
{% endblock %}
